<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <title>å°ˆæ¥­ç´š Tweet ç®¡ç†å™¨</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            padding: 40px;
            background: #f5f8fa;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccd6dd;
            border-radius: 4px;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            border-bottom: 1px solid #e1e8ed;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .actions {
            display: flex;
            gap: 10px;
        }

        button {
            padding: 5px 12px;
            border: 1px solid #1da1f2;
            background: white;
            color: #1da1f2;
            border-radius: 20px;
            cursor: pointer;
            transition: 0.2s;
        }

        button:hover {
            background: #e8f5fe;
        }

        .btn-delete {
            border-color: #e0245e;
            color: #e0245e;
        }

        .btn-delete:hover {
            background: #f9e6eb;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>Tweet Manager</h1>

        <form id="tweetForm" class="input-group">
            <input type="text" id="tweetContent" placeholder="æœ‰ä»€éº¼æ–°é®®äº‹ï¼Ÿ" required>
            <button type="submit">ç™¼ä½ˆ</button>
        </form>

        <ul id="tweetList">
            <li data-id="1712345678" data-likes="0">
                <div class="content">é€™æ˜¯ä¸€å‰‡é è¨­çš„æ¨æ–‡ç¯„ä¾‹ã€‚</div>
                <div class="actions">
                    <button data-action="like">ğŸ‘ <span class="count-display">(0)</span></button>
                    <button data-action="share">ğŸ”— åˆ†äº«</button>
                    <button data-action="delete" class="btn-delete">ğŸ—‘ï¸ åˆªé™¤</button>
                </div>
            </li>
        </ul>
    </div>

    <script>
        const tweetForm = document.querySelector('#tweetForm');
        const tweetContent = document.querySelector('#tweetContent');
        const list = document.querySelector('#tweetList');

        /**
         * ç­–ç•¥æ¨¡å¼ï¼šå®šç¾©å„ç¨®è¡Œç‚º
         */
        const tweetActions = {
            like: (li) => {
                const currentLikes = parseInt(li.dataset.likes) + 1;
                li.dataset.likes = currentLikes;
                li.querySelector('.count-display').innerText = `(${currentLikes})`;
            },
            delete: (li) => {
                if (confirm('ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ')) li.remove();
            },
            share: (li) => {
                // å›æ‡‰ä½ ä¹‹å‰çš„å•é¡Œï¼šå¦‚ä½•æŠ“å–å…§å®¹è€Œé ID
                const content = li.querySelector('.content').innerText;
                alert(`æ­£åœ¨åˆ†äº«å…§å®¹ï¼š${content}`);
            }
        };

        /**
         * æ–°å¢ Tweet çš„é‚è¼¯ï¼šä¿æŒ DOM çµæ§‹ä¸€è‡´
         */
        tweetForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const content = tweetContent.value;
            const id = Date.now(); // ç°¡å–®ä½¿ç”¨æ™‚é–“æˆ³è¨˜ä½œç‚º ID

            const newTweet = document.createElement('li');
            newTweet.setAttribute('data-id', id);
            newTweet.setAttribute('data-likes', '0');

            // é—œéµï¼šé€™è£¡çš„ HTML çµæ§‹èˆ‡æŒ‰éˆ•çš„ data-action å¿…é ˆèˆ‡åˆå§‹ HTML çµ±ä¸€
            newTweet.innerHTML = `
            <div class="content">${content}</div>
            <div class="actions">
                <button data-action="like">ğŸ‘ <span class="count-display">(0)</span></button>
                <button data-action="share">ğŸ”— åˆ†äº«</button>
                <button data-action="delete" class="btn-delete">ğŸ—‘ï¸ åˆªé™¤</button>
            </div>
        `;

            // æ”¾åœ¨æœ€ä¸Šé¢ï¼ˆæœ€æ–°æ¨æ–‡ï¼‰
            list.prepend(newTweet);
            tweetForm.reset();
        });

        /**
         * äº‹ä»¶å§”æ´¾ï¼šçµ±ä¸€è™•ç†æ‰€æœ‰ Tweet çš„æŒ‰éˆ•é»æ“Š
         */
        list.addEventListener('click', (e) => {
            const btn = e.target.closest('button');
            if (!btn) return;

            const action = btn.dataset.action;
            const li = btn.closest('li');

            if (tweetActions[action]) {
                tweetActions[action](li);
            }
        });
    </script>

</body>

</html>